# ==================== Formy Backend Configuration ====================
# Copy this file to .env and fill in your values
# All configurations can be set via environment variables

# ==================== Application ====================
APP_NAME=Formy
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=production  # development / staging / production

# Server Configuration
HOST=0.0.0.0
PORT=8000

# ==================== Redis (Required) ====================
# Option 1: Complete Redis URL (Recommended for cloud platforms)
REDIS_URL=redis://localhost:6379/0
# For Redis with password:
# REDIS_URL=redis://:password@host:port/db

# Option 2: Separate configuration (for local development)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# ==================== ComfyUI AI Engine (Required) ====================
# ComfyUI service URL for AI image processing
COMFYUI_BASE_URL=http://your-comfyui-server.com:7860

# Optional: Timeout settings
COMFYUI_TIMEOUT=300
COMFYUI_POLL_INTERVAL=2

# ==================== Storage ====================
# Storage type: local / oss / s3
STORAGE_TYPE=local

# Local storage (when STORAGE_TYPE=local)
UPLOAD_DIR=./uploads
RESULT_DIR=./results

# Aliyun OSS (when STORAGE_TYPE=oss)
# OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
# OSS_ACCESS_KEY_ID=your_access_key_id
# OSS_ACCESS_KEY_SECRET=your_access_key_secret
# OSS_BUCKET_NAME=formy-uploads
# OSS_BUCKET_DOMAIN=https://your-bucket.oss-cn-hangzhou.aliyuncs.com

# ==================== JWT Authentication (Required) ====================
# Generate a secure random key:
# openssl rand -base64 32
SECRET_KEY=your-secret-key-change-me-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ==================== CORS ====================
# Comma-separated list of allowed frontend origins
# Supports any domain (not limited to specific cloud platforms)
# Examples:
#   Local development: http://localhost:3000,http://localhost:5173
#   Vercel: https://formy-frontend.vercel.app
#   Custom domain: https://your-domain.com
#   Multiple domains: https://app.example.com,https://www.example.com
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# ==================== Email Service ====================
# Email provider: resend / aliyun / smtp
EMAIL_PROVIDER=smtp  # 默认使用 Gmail SMTP

# Gmail SMTP (when EMAIL_PROVIDER=smtp) - Recommended
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=wuyebei3206@gmail.com
SMTP_PASSWORD=your_gmail_app_password  # Gmail 应用专用密码（不是登录密码）
SMTP_USE_TLS=true
FROM_EMAIL=wuyebei3206@gmail.com
FROM_NAME=Formy

# Resend (when EMAIL_PROVIDER=resend)
# RESEND_API_KEY=re_your_api_key_here
# FROM_EMAIL=noreply@your-domain.com
# FROM_NAME=Formy

# Aliyun DirectMail (when EMAIL_PROVIDER=aliyun)
# ALIYUN_EMAIL_REGION=cn-hangzhou
# ALIYUN_EMAIL_ACCESS_KEY_ID=your_access_key_id
# ALIYUN_EMAIL_ACCESS_KEY_SECRET=your_access_key_secret

# ==================== Whitelist Configuration ====================
# VIP Whitelist: Users who get 10000 credits
VIP_WHITELIST_EMAILS=wyb3206@163.com,wuyebei3206@gmail.com
VIP_WHITELIST_CREDITS=10000

# Trial Whitelist: Users who get 1000 credits for testing
# Add new trial users here (comma-separated)
TRIAL_WHITELIST_EMAILS=553588070@qq.com
TRIAL_WHITELIST_CREDITS=1000

# Admin password for whitelist management
ADMIN_PASSWORD=wyb518

# ==================== Task Management ====================
TASK_RETENTION_DAYS=7
MAX_CONCURRENT_TASKS_PER_USER=3
TASK_QUEUE_NAME=formy:tasks

# ==================== Logging ====================
LOG_LEVEL=INFO  # DEBUG / INFO / WARNING / ERROR
LOG_FORMAT=json  # json / text

# ==================== Monitoring (Optional) ====================
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
# ENABLE_METRICS=false

# ==================== Database (Optional, for future use) ====================
# DATABASE_URL=postgresql://user:password@localhost:5432/formy
# DATABASE_POOL_SIZE=10
# DATABASE_MAX_OVERFLOW=20

